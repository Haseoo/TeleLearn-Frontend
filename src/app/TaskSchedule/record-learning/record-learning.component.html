<form [formGroup]="form" (submit)="OnSubmit()">
    <div class="form-group">
        <div class="d-flex align-items-center">
            <label>Godzina rozpoczęcia nauki: </label>
            <div class="separator"></div>
            <input type="time" class="form-control time-input" formControlName="startTime" [ngClass]="{invalid: ctls.startTime.errors}"/>
        </div>
        <div *ngIf="ctls.startTime.errors" class="text-danger">
            <div *ngIf="ctls.startTime.errors.required">Podaj godzinę rozpoczęcia nauki</div>
        </div>
    </div>
    <div class="form-group">
        <div class="d-flex align-items-center">
            <label>Czas nauki: </label>
            <div class="separator"></div>
            <input type="number" [min]="0" class="form-control" formControlName="hours" [ngClass]="{invalid: ctls.hours.errors}"/>
            <div class="separator align-self-center">:</div>
            <input type="number" [min]="0" [max]="59" class="form-control" formControlName="minutes" [ngClass]="{invalid: ctls.minutes.errors}"/>
        </div>
        <div *ngIf="ctls.hours.errors" class="text-danger">
            <div *ngIf="ctls.hours.errors.required">Podaj liczbę godzin</div>
            <div *ngIf="ctls.hours.errors.min">Nieprawidłowa liczba godzin</div>
            <div *ngIf="ctls.hours.errors.max">Nie można planować na więcej niż 1 dzień</div>
        </div>
        <div *ngIf="ctls.minutes.errors" class="text-danger">
            <div *ngIf="ctls.minutes.errors.required">Podaj liczbę minut</div>
            <div *ngIf="ctls.minutes.errors.min || form.controls.minutes.errors.max">Nieprawidłowa liczba minut</div>
        </div>
    </div>
    <div class="form-group">
        <div class="d-flex align-items-center">
            <label class="align-self-center">Nowy postęp zadania:</label>
            <div class="separator"></div>
            <input type="number" [min]=0 [max]=100 class="form-control" formControlName="progress" [ngClass]="{invalid: ctls.progress.errors}"/>
            <div class="align-self-center">%</div>
        </div>
        <div *ngIf="ctls.progress.errors" class="text-danger">
            <div *ngIf="ctls.progress.errors.required">Podaj postęp zadania</div>
            <div *ngIf="ctls.progress.errors.max || ctls.progress.errors.min">Nieprawidłowa wartość postępu</div>
        </div>
    </div>
    <div class="form-group">
        <div class="d-flex align-items-center justify-content-center">
            <button type="submit" class="btn btn-success">Zapisz</button>
            <div class="separator"></div>
            <button class="btn btn-danger" (click)="cancel.emit()" type="button">Anuluj</button>
        </div>
    </div>
</form>